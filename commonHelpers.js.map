{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43226276-a07a0c17e428cfffb021b9b05';\n\nconst params = new URLSearchParams({\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nexport function fetchImages(userSearch) {\n  const url = `https://pixabay.com/api/?${params}&q=${encodeURIComponent(\n    userSearch\n  )}`;\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        throw new Error(response.status);\n      }\n      return data.hits;\n    });\n}","\nexport function createMarkup(array) {\n  return array\n    .map(\n      ({\n        id,\n        largeImageURL,\n        previewURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"list-item\">\n          <a href=\"${largeImageURL}\" class=\"list-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"item-img\" width=\"360\" height=\"160\">\n          </a>\n         <ul class=\"list-review\">\n           <li class=\"review-item\">\n              <h3 class=\"review-title\">likes</h3>\n              <p class=\"review-text\">${likes}</p></li>\n           <li class=\"review-item\">\n              <h3 class=\"review-title\">views</h3>\n              <p class=\"review-text\">${views}</p></li>\n           <li class=\"review-item\">\n              <h3 class=\"review-title\">comments</h3>\n              <p class=\"review-text\">${comments}</p></li>\n           <li class=\"review-item\">\n              <h3 class=\"review-title\">downloads</h3>\n              <p class=\"review-text\">${downloads}</p></li>\n            </ul>\n          </li>`\n    )\n    .join('');\n}\n\nhideLoader();\n\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  loader.style.display = 'none';\n}","import iziToast from 'izitoast';\n\nimport SimpleLightbox from 'simplelightbox';\n\nconst imgGallery = document.querySelector('.img-list');\n\nimport { fetchImages } from './js/pixabay-api';\n\nimport { createMarkup, showLoader, hideLoader } from './js/render-functions';\n\nconst form = document.querySelector('.search-form');\nform.addEventListener('submit', onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  imgGallery.innerHTML = '';\n  const elements = event.target.elements;\n  const userSearch = elements.images.value.trim();\n  if (userSearch === '') {\n    return;\n  }\n  showLoader();\n\n  fetchImages(userSearch)\n    .then(data => {\n      imgGallery.insertAdjacentHTML('beforeend', createMarkup(data));\n      gallery.refresh();\n    })\n    .catch(error => {\n      iziToast.show({\n        titleColor: '#fff',\n        message:\n          'Sorry, there are no images matching<br>your search query.Please try again!',\n        messageColor: '#fff',\n        messageSize: '16px',\n        messageLineHeight: '150%',\n        backgroundColor: ' #ef4040',\n        // icon: 'img/error.svg',\n        // iconUrl: './img/error.svg',\n        position: 'topRight',\n        close: true,\n        closeOnEscape: false,\n        closeOnClick: false,\n        timeout: 5000,\n        resetOnHover: true,\n        icon: 'img/error.svg',\n        transitionIn: 'flipInX',\n        transitionOut: 'flipOutX',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n  form.reset();\n}\n\nlet gallery = new SimpleLightbox('.img-list .list-link', {\n  overlayOpacity: 0.8,\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n});\n\ngallery.on('shown.simplelightbox', function () {\n  const enlargedImg = document.querySelector('.sl-image > img');\n  enlargedImg.style.width = '100%';\n  enlargedImg.style.maxHeight = '100%';\n});\n"],"names":["API_KEY","params","fetchImages","userSearch","url","response","data","createMarkup","array","id","largeImageURL","previewURL","webformatURL","tags","likes","views","comments","downloads","hideLoader","showLoader","loader","imgGallery","form","onSubmit","event","gallery","error","iziToast","SimpleLightbox","enlargedImg"],"mappings":"6vBAAA,MAAMA,EAAU,qCAEVC,EAAS,IAAI,gBAAgB,CACjC,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEM,SAASE,EAAYC,EAAY,CACtC,MAAMC,EAAM,4BAA4BH,CAAM,MAAM,mBAClDE,CACD,CAAA,GACD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,SAAS,MAAM,EAEjC,OAAOA,EAAK,IAClB,CAAK,CACL,CCzBO,SAASC,EAAaC,EAAO,CAClC,OAAOA,EACJ,IACC,CAAC,CACC,GAAAC,EACA,cAAAC,EACA,WAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,qBACaP,CAAa;AAAA,sBACZE,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,uCAKTC,CAAK;AAAA;AAAA;AAAA,uCAGLC,CAAK;AAAA;AAAA;AAAA,uCAGLC,CAAQ;AAAA;AAAA;AAAA,uCAGRC,CAAS;AAAA;AAAA,gBAG3C,EACA,KAAK,EAAE,CACZ,CAEAC,IAGO,SAASC,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEO,SAASF,GAAa,CAC3B,MAAME,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,MACzB,CC7CA,MAAMC,EAAa,SAAS,cAAc,WAAW,EAM/CC,EAAO,SAAS,cAAc,cAAc,EAClDA,EAAK,iBAAiB,SAAUC,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBH,EAAW,UAAY,GAEvB,MAAMlB,EADWqB,EAAM,OAAO,SACF,OAAO,MAAM,KAAI,EACzCrB,IAAe,KAGnBgB,IAEAjB,EAAYC,CAAU,EACnB,KAAKG,GAAQ,CACZe,EAAW,mBAAmB,YAAad,EAAaD,CAAI,CAAC,EAC7DmB,EAAQ,QAAO,CACrB,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,KAAK,CACZ,WAAY,OACZ,QACE,6EACF,aAAc,OACd,YAAa,OACb,kBAAmB,OACnB,gBAAiB,WAGjB,SAAU,WACV,MAAO,GACP,cAAe,GACf,aAAc,GACd,QAAS,IACT,aAAc,GACd,KAAM,gBACN,aAAc,UACd,cAAe,UACvB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbT,GACN,CAAK,EACHI,EAAK,MAAK,EACZ,CAEA,IAAIG,EAAU,IAAIG,EAAe,uBAAwB,CACvD,eAAgB,GAChB,aAAc,MACd,aAAc,IACd,gBAAiB,QACnB,CAAC,EAEDH,EAAQ,GAAG,uBAAwB,UAAY,CAC7C,MAAMI,EAAc,SAAS,cAAc,iBAAiB,EAC5DA,EAAY,MAAM,MAAQ,OAC1BA,EAAY,MAAM,UAAY,MAChC,CAAC"}